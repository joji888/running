(function(e){function t(t){for(var l,r,n=t[0],s=t[1],d=t[2],c=0,m=[];c<n.length;c++)r=n[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],l=!0,n=1;n<a.length;n++){var s=a[n];0!==o[s]&&(l=!1)}l&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var l={},o={app:0},i=[];function r(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=l,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(a,l,function(t){return e[t]}.bind(null,l));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var u=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"013d":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"0a6d":function(e,t,a){e.exports=a.p+"img/loginImg.2486c839.png"},1:function(e,t){},"47a3":function(e,t,a){"use strict";a("4d2f")},"4d2f":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("25f0"),a("ac1f"),a("4d63"),a("c607"),a("2c3e"),a("5319"),a("4d90");var l=a("2b0e"),o=a("8c4f"),i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"loginMain"},[l("img",{staticClass:"loginImg",attrs:{src:a("0a6d")}}),l("el-form",{ref:"users",staticClass:"loginForm",attrs:{model:e.users,rules:e.rules}},[l("el-form-item",{attrs:{prop:"acc"}},[l("el-input",{staticStyle:{"background-color":"transparent"},attrs:{type:"text",autocomplete:"off",placeholder:"账号"},model:{value:e.users.acc,callback:function(t){e.$set(e.users,"acc",t)},expression:"users.acc"}},[l("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),l("el-form-item",{attrs:{prop:"pwd"}},[l("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"密码"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login("users")}},model:{value:e.users.pwd,callback:function(t){e.$set(e.users,"pwd",t)},expression:"users.pwd"}},[l("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),l("el-form-item",[l("el-button",{staticClass:"loginBut",attrs:{type:"primary"},on:{click:function(t){return e.login("users")}}},[e._v("登录")])],1),l("span",{staticStyle:{color:"white","font-size":"14px"}},[e._v("跑腿平台--吉首大学张家界学院")]),l("br"),l("span",{staticStyle:{color:"white","font-size":"14px"}},[e._v("2021-现在 版权所有")])],1)],1)},r=[],n=(a("e9c4"),{name:"login",data:function(){return{users:{acc:"admin",pwd:""},rules:{acc:[{required:!0,message:"请输人账号",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{login:function(e){var t=this,a=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log(t.users);var l=t.users;t.$http.get("/admin/login",{params:l}).then((function(e){if(console.log(e),200===e.data.code){if(null!=e.data.data){console.log("登陆成功 token:\n"+e.data.data["token"]),a.$message.success("登陆成功");var t=new Date;console.log(t.getTime()),localStorage.setItem("token",JSON.stringify({admin:e.data.data["admin"],token:e.data.data["token"],time:t.getTime()+108e5})),a.$http.defaults.headers.common["token"]=e.data.data["token"],a.$router.push({path:"/",query:{}})}}else a.$message.error(e.data.message)}))}))}}}),s=n,d=(a("8fa1"),a("2877")),u=Object(d["a"])(s,i,r,!1,null,"222d4721",null),c=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-aside",{style:e.leftClass},[a("left",{attrs:{isCollapse:e.isCollapse,adminIs:e.adminIs},on:{updatePage:e.updatePage}})],1),a("el-container",[a("el-header",[a("top",{attrs:{isCollapse:e.isCollapse},on:{foldOrUnfold_func:e.foldOrUnfold_func}})],1),a("el-main",[a(e.mainPag,{tag:"component"})],1),a("el-footer")],1)],1)},p=[],f=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"100vh"},attrs:{"default-active":"2",collapse:e.isCollapse},on:{open:e.handleOpen}},[l("el-row",{staticStyle:{"align-items":"center",height:"70px","line-height":"70px"},attrs:{justify:"center"}},[l("img",{staticStyle:{height:"40px",width:"40px","border-radius":"50%",float:"left","margin-top":"13px","margin-left":"10px","margin-right":"5px"},attrs:{src:a("0a6d"),alt:"logo"}}),l("h3",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}],staticStyle:{"margin-left":"10px",width:"160px"}},[e._v("跑腿平台")])]),l("el-submenu",{directives:[{name:"show",rawName:"v-show",value:!e.adminIs,expression:"!adminIs"}],attrs:{index:"1"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-user"}),l("span",[e._v("用户管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"1-2"},on:{click:function(t){return e.updatePage("userList")}}},[e._v("用户列表")])],1)],2),l("el-submenu",{attrs:{index:"3"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-paperclip"}),l("span",[e._v("订单类型管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"3-1"},on:{click:function(t){return e.updatePage("orderTypeAdd")}}},[e._v("添加类型")]),l("el-menu-item",{attrs:{index:"3-2"},on:{click:function(t){return e.updatePage("orderTypeList")}}},[e._v("类型列表")])],1)],2),l("el-submenu",{attrs:{index:"4"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-paperclip"}),l("span",[e._v("订单子类管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"4-1"},on:{click:function(t){return e.updatePage("orderTypeSonAdd")}}},[e._v("添加子类")]),l("el-menu-item",{attrs:{index:"4-2"},on:{click:function(t){return e.updatePage("orderTypeSonList")}}},[e._v("子类列表")])],1)],2),l("el-submenu",{attrs:{index:"2"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-document-copy"}),l("span",[e._v("订单管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"2-1"},on:{click:function(t){return e.updatePage("orderList")}}},[e._v("订单列表")])],1)],2),l("el-submenu",{attrs:{index:"5"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-document-checked"}),l("span",[e._v("接单管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"5-1"},on:{click:function(t){return e.updatePage("receiveList")}}},[e._v("接单列表")])],1)],2),l("el-submenu",{attrs:{index:"6"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-chat-line-round"}),l("span",[e._v("评论管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"6-1"},on:{click:function(t){return e.updatePage("commentList")}}},[e._v("评论列表")])],1)],2),l("el-submenu",{directives:[{name:"show",rawName:"v-show",value:"root"===e.admin.aRole,expression:"admin.aRole==='root'"}],attrs:{index:"7"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-aim"}),l("span",[e._v("审核管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"7-1"},on:{click:function(t){return e.updatePage("applyList")}}},[e._v("审核列表")])],1)],2),l("el-submenu",{directives:[{name:"show",rawName:"v-show",value:"root"===e.admin.aRole,expression:"admin.aRole==='root'"}],attrs:{index:"8"}},[l("template",{slot:"title"},[l("i",{staticClass:"el-icon-s-custom"}),l("span",[e._v("管理员管理")])]),l("el-menu-item-group",[l("el-menu-item",{attrs:{index:"8-1"},on:{click:function(t){return e.updatePage("adminAdd")}}},[e._v("添加管理员")]),l("el-menu-item",{attrs:{index:"8-2"},on:{click:function(t){return e.updatePage("adminList")}}},[e._v("管理员列表")])],1)],2)],1)},h=[],g={name:"left",props:["isCollapse","adminIs"],data:function(){return{admin:{}}},methods:{handleOpen:function(e,t){console.log(e,t)},updatePage:function(e){this.$emit("updatePage",e)}},mounted:function(){console.log("left");var e=this.$mySetToken();if(null==e)return this.$message.error("请先登陆"),void this.$router.push({path:"/login",query:{}});console.log(e),this.admin=e}},b=g,v=Object(d["a"])(b,f,h,!1,null,"746b6ba7",null),y=v.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"修改密码",visible:e.dialogVisible,width:"700px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{aId:e.aId}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-col",{staticClass:"top-item"},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}],staticClass:"el-icon-s-fold",staticStyle:{"font-size":"24px"},on:{click:e.foldOrUnfold_func}}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}],staticClass:"el-icon-s-unfold",staticStyle:{"font-size":"24px"},on:{click:e.foldOrUnfold_func}})]),a("el-col",{staticClass:"top-item",staticStyle:{"text-align":"right"}},[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.adminName)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.handleEdit.apply(null,arguments)}}},[e._v("修改密码")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.logOut.apply(null,arguments)}}},[e._v("退出登陆")])],1)],1)],1)],1)},$=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"admin",staticClass:"demo-user",attrs:{model:e.admin,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.admin.oldPwd,callback:function(t){e.$set(e.admin,"oldPwd",t)},expression:"admin.oldPwd"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.admin.newPwd,callback:function(t){e.$set(e.admin,"newPwd",t)},expression:"admin.newPwd"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"newPwd2"}},[a("el-input",{attrs:{type:"password"},model:{value:e.admin.newPwd2,callback:function(t){e.$set(e.admin,"newPwd2",t)},expression:"admin.newPwd2"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("admin")}}},[e._v("修改")])],1)],1)],1)},x=[],k={name:"edit",props:["aId"],data:function(){return{admin:{aId:"",oldPwd:"",newPwd:"",newPwd2:""},loading:!1,rules:{oldPwd:[{required:!0,message:"请输入旧密码"}],newPwd:[{required:!0,message:"请输入新密码"},{min:6,max:32,message:"长度在 6 到 32 个字符"}],newPwd2:[{required:!0,message:"确认新密码"},{min:6,max:32,message:"长度在 6 到 32 个字符"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),t.loading=!1,!1;if(t.admin.aId=t.aId,console.log(t.admin),t.admin.newPwd!==t.admin.newPwd2)return t.$message.error("两次密码不一致！"),void(t.loading=!1);var a=t;t.$http.put("/admin/updatePwd?"+t.$qs.stringify(t.admin)).then((function(e){a.$myRequest(e),200===e.data.code&&(a.$parent.handleClose(),a.$message.success(e.data.message+",请重新登陆"),a.$router.push({path:"/login",query:{}}))}))}))}}},S=k,C=Object(d["a"])(S,_,x,!1,null,null,null),I=C.exports,T={name:"top",components:{edit:I},data:function(){return{aId:"",adminName:"",dialogVisible:!1}},props:["isCollapse"],methods:{foldOrUnfold_func:function(){this.$emit("foldOrUnfold_func","")},logOut:function(){console.log("退出登陆"),localStorage.removeItem("token"),this.$router.push({path:"/login",query:{}})},handleClose:function(e){e()},handleEdit:function(){this.dialogVisible=!0}},mounted:function(){console.log("top");var e=this.$mySetToken();e&&(console.log(e),this.aId=e.aid,this.adminName=e.aaccount)}},F=T,D=(a("cc57"),Object(d["a"])(F,w,$,!1,null,"662f73a0",null)),q=D.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("用户表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"700px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{uid:e.uid}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"uid",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"uheadImg",label:"头像",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"head_pic",attrs:{src:e.row.uheadImg,width:"40",height:"40"}})]}}])}),a("el-table-column",{attrs:{prop:"unick",label:"昵称",width:"100"}}),a("el-table-column",{attrs:{prop:"uRole",label:"角色",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"user"===t.row.uRole,expression:"scope.row.uRole==='user'"}]},[e._v("普通用户")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"running"===t.row.uRole,expression:"scope.row.uRole==='running'"}]},[e._v("接单用户")])]}}])}),a("el-table-column",{attrs:{prop:"uaccount",label:"帐号",width:"100"}}),a("el-table-column",{attrs:{prop:"uemail",label:"邮箱",width:"100"}}),a("el-table-column",{attrs:{prop:"uphone",label:"电话",width:"100"}}),a("el-table-column",{attrs:{prop:"ugender",label:"性别",width:"100"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},N=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"user",staticClass:"demo-user",attrs:{model:e.user,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户图片",prop:"oid"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/running/user/editImg?uHeadImg="+e.user.uheadImg+"&uId="+e.user.uid,name:"uploadFIle","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("img",{staticClass:"head_pic",attrs:{src:e.user.uheadImg,width:"300",height:"300"}}),a("br"),e._v(" 点击图片修改 ")])],1),a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"角色",prop:"uRole"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.user.uRole,callback:function(t){e.$set(e.user,"uRole",t)},expression:"user.uRole"}})],1),a("el-form-item",{attrs:{label:"账号",prop:"uaccount"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.user.uaccount,callback:function(t){e.$set(e.user,"uaccount",t)},expression:"user.uaccount"}})],1)],1),a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"邮箱",prop:"uemail"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.user.uemail,callback:function(t){e.$set(e.user,"uemail",t)},expression:"user.uemail"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"uphone"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.user.uphone,callback:function(t){e.$set(e.user,"uphone",t)},expression:"user.uphone"}})],1)],1),a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"昵称",prop:"unick"}},[a("el-input",{model:{value:e.user.unick,callback:function(t){e.$set(e.user,"unick",t)},expression:"user.unick"}})],1),a("el-form-item",{attrs:{label:"姓别",prop:"ugender"}},[a("el-select",{attrs:{placeholder:"请选择姓别",value:""},model:{value:e.user.ugender,callback:function(t){e.$set(e.user,"ugender",t)},expression:"user.ugender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("user")}}},[e._v("修改")])],1)],1)],1)},E=[],O=(a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),{name:"edit",props:["uid"],data:function(){return{user:{},loading:!0,rules:{unick:[{required:!0,message:"请输昵称"},{min:1,max:20,message:"长度在 1 到 20 个字符"}],ugender:[{required:!0,message:"选择性别"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),t.loading=!1,!1;var a={uId:t.user.uid,uNick:t.user.unick,uRole:t.user.uRole,uAccount:t.user.uaccount,uPassword:t.user.upassword,uEmail:t.user.uemail,uPhone:t.user.uphone,uGender:t.user.ugender};console.log(a);var l=t;t.$http.put("/user?"+t.$qs.stringify(a)).then((function(e){l.$myRequest(e),200===e.data.code&&(l.$parent.handleClose(),l.order=e.data.data,l.$message.success(e.data.message))}))}))},handleAvatarSuccess:function(e,t){this.user.uheadImg=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){console.log(e.type);var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 或者 PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/user/"+this.uid).then((function(t){e.$myRequest(t),e.user=t.data.data}))}}),j=O,V=Object(d["a"])(j,P,E,!1,null,null,null),z=V.exports,A={components:{edit:z},data:function(){return{uid:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),this.uid=t.uid,this.dialogVisible=!0},handleDelete:function(e,t){console.log(e,t);var a=this;this.$http.delete("/user",{params:{id:t.uid}}).then((function(e){a.$myRequest(e),200===e.data.code&&(a.initDate(),a.$message.success(e.data.message))}))},initDate:function(){var e=this;this.$http.get("/user",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){this.$mySetToken();this.initDate()}},L=A,U=Object(d["a"])(L,R,N,!1,null,null,null),M=U.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("订单类型表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"修改订单类型",visible:e.dialogVisible,width:"700px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{otId:e.otId}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"otId",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"otName",label:"类型名",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},B=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"ruleForm",staticClass:"demo-user",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ID",prop:"otId"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.ruleForm.otId,callback:function(t){e.$set(e.ruleForm,"otId",t)},expression:"ruleForm.otId"}})],1),a("el-form-item",{attrs:{label:"类型名",prop:"otName"}},[a("el-input",{model:{value:e.ruleForm.otName,callback:function(t){e.$set(e.ruleForm,"otName",t)},expression:"ruleForm.otName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改")])],1)],1)],1)},G=[],Y={name:"edit",props:["otId"],data:function(){return{order:{},loading:!0,ruleForm:{},rules:{otName:[{required:!0,message:"请输入类型名"},{min:2,max:20,message:"长度在 2 到 20 个字符"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t;t.$http.put("/orderType?"+t.$qs.stringify(t.ruleForm)).then((function(e){a.$myRequest(e),200===e.data.code&&(a.$parent.handleClose(),a.$message.success(e.data.message))}))}))}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/orderType/"+this.otId).then((function(t){e.$myRequest(t),e.ruleForm=t.data.data}))}},K=Y,Q=Object(d["a"])(K,J,G,!1,null,null,null),W=Q.exports,X={components:{edit:W},data:function(){return{otId:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;console.log(t),e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),this.otId=t.otId,this.dialogVisible=!0},handleDelete:function(e,t){console.log(e,t);var a=this;this.$http.delete("/orderType",{params:{id:t.otId}}).then((function(e){a.$myRequest(e),200===e.data.code&&(a.initDate(),a.$message.success(e.data.message))}))},initDate:function(){var e=this;this.$http.get("/orderType",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){this.$mySetToken();this.initDate()}},Z=X,ee=Object(d["a"])(Z,H,B,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("h3",[e._v("添加订单类型")]),a("br"),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"类型名",prop:"otName"}},[a("el-input",{model:{value:e.ruleForm.otName,callback:function(t){e.$set(e.ruleForm,"otName",t)},expression:"ruleForm.otName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("添加")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},le=[],oe={data:function(){return{loading:!1,ruleForm:{otName:""},rules:{otName:[{required:!0,message:"请输入类型名",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return t.loading=!1,console.log("error submit!!"),!1;var a={otName:t.ruleForm.otName};console.log(a);var l=t;t.$http.post("/orderType?"+t.$qs.stringify(a)).then((function(e){l.$myRequest(e),200===e.data.code&&(l.$message.success(e.data.message),l.resetForm("ruleForm"))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},ie=oe,re=Object(d["a"])(ie,ae,le,!1,null,null,null),ne=re.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("订单子类表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"修改订单子类",visible:e.dialogVisible,width:"700px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{tsId:e.tsId}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"tsId",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"tsName",label:"类型名",width:"180"}}),a("el-table-column",{attrs:{prop:"tsPrice",label:"默认价格",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"red","font-weight":"bold"}},[e._v("￥"+e._s(t.row.tsPrice))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},de=[],ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"ruleForm",staticClass:"demo-user",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ID",prop:"tsId"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.ruleForm.tsId,callback:function(t){e.$set(e.ruleForm,"tsId",t)},expression:"ruleForm.tsId"}})],1),a("el-form-item",{attrs:{label:"子类名",prop:"tsName"}},[a("el-input",{model:{value:e.ruleForm.tsName,callback:function(t){e.$set(e.ruleForm,"tsName",t)},expression:"ruleForm.tsName"}})],1),a("el-form-item",{attrs:{label:"默认价格",prop:"tsPrice"}},[a("el-input",{model:{value:e.ruleForm.tsPrice,callback:function(t){e.$set(e.ruleForm,"tsPrice",e._n(t))},expression:"ruleForm.tsPrice"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改")])],1)],1)],1)},ce=[],me={name:"edit",props:["tsId"],data:function(){return{order:{},loading:!0,ruleForm:{},rules:{otName:[{required:!0,message:"请输入类型名"},{min:2,max:20,message:"长度在 2 到 20 个字符"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t;t.$http.put("/orderTypeSon?"+t.$qs.stringify(t.ruleForm)).then((function(e){a.$myRequest(e),200===e.data.code&&(a.$parent.handleClose(),a.$message.success(e.data.message))}))}))}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/orderTypeSon/"+this.tsId).then((function(t){e.$myRequest(t),e.ruleForm=t.data.data}))}},pe=me,fe=Object(d["a"])(pe,ue,ce,!1,null,null,null),he=fe.exports,ge={components:{edit:he},data:function(){return{tsId:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;console.log(t),e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),this.tsId=t.tsId,this.dialogVisible=!0},handleDelete:function(e,t){console.log(e,t);var a=this;this.$http.delete("/orderTypeSon",{params:{id:t.tsId}}).then((function(e){a.$myRequest(e),200===e.data.code&&(a.initDate(),a.$message.success(e.data.message))}))},initDate:function(){var e=this;this.$http.get("/orderTypeSon",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){this.$mySetToken();this.initDate()}},be=ge,ve=Object(d["a"])(be,se,de,!1,null,null,null),ye=ve.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("h3",[e._v("添加订单子类")]),a("br"),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"子类名",prop:"tsName"}},[a("el-input",{model:{value:e.ruleForm.tsName,callback:function(t){e.$set(e.ruleForm,"tsName",t)},expression:"ruleForm.tsName"}})],1),a("el-form-item",{attrs:{label:"默认价格",prop:"tsPrice"}},[a("el-input",{model:{value:e.ruleForm.tsPrice,callback:function(t){e.$set(e.ruleForm,"tsPrice",e._n(t))},expression:"ruleForm.tsPrice"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("添加")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},$e=[],_e={data:function(){return{loading:!1,ruleForm:{tsName:"",tsPrice:""},rules:{tsName:[{required:!0,message:"请输入子类名"},{min:2,max:20,message:"长度在 2 到 20 个字符"}],tsPrice:[{required:!0,message:"请输入子类默认价格"},{type:"number",message:"价格必须是数字"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return t.loading=!1,console.log("error submit!!"),!1;var a={tsName:t.ruleForm.tsName,tsPrice:t.ruleForm.tsPrice};console.log(a);var l=t;t.$http.post("/orderTypeSon?"+t.$qs.stringify(a)).then((function(e){l.$myRequest(e),200===e.data.code&&(l.$message.success(e.data.message),l.resetForm("ruleForm"))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},xe=_e,ke=Object(d["a"])(xe,we,$e,!1,null,null,null),Se=ke.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("订单表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"修改订单",visible:e.dialogVisible,width:"700px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{oid:e.oid}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"oid",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"oimage",label:"图片",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"head_pic",attrs:{src:e.row.oimage,width:"120",height:"100%"}})]}}])}),a("el-table-column",{attrs:{label:"标题",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("标题: "+e._s(t.row.otile))]),a("p",[e._v("描述: "+e._s(t.row.odescribe))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.otile))])],1)])]}}])}),a("el-table-column",{attrs:{label:"订单状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.ostate?a("span",{staticStyle:{color:"red"}},[e._v("过期")]):e._e(),1===t.row.ostate?a("span",{staticStyle:{color:"green"}},[e._v("正常")]):e._e(),2===t.row.ostate?a("span",{staticStyle:{color:"blue"}},[e._v("已接单")]):e._e(),3===t.row.ostate?a("span",{staticStyle:{color:"orange"}},[e._v("结束")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"orderType.otName",label:"订单类型",width:"100"}}),a("el-table-column",{attrs:{prop:"orderTypeSon.tsName",label:"订单子类",width:"100"}}),a("el-table-column",{attrs:{prop:"ocreateTime",label:"创建时间",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{readonly:"true",type:"datetime",placeholder:"选择日期时间"},model:{value:t.row.ocreateTime,callback:function(a){e.$set(t.row,"ocreateTime",a)},expression:"scope.row.ocreateTime"}})]}}])}),a("el-table-column",{attrs:{prop:"oendTime",label:"结束时间",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{readonly:"true",type:"datetime",placeholder:"选择日期时间"},model:{value:t.row.oendTime,callback:function(a){e.$set(t.row,"oendTime",a)},expression:"scope.row.oendTime"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},Ie=[],Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"order",staticClass:"demo-user",attrs:{model:e.order,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"订单图片",prop:"oid"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/running/order/editImg?image="+e.order.oimage+"&oId="+e.order.oid,name:"uploadFIle","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("img",{staticClass:"head_pic",attrs:{src:e.order.oimage,width:"300",height:"300"}}),a("br"),e._v(" 点击图片修改 ")])],1),a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"订单ID",prop:"oid"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.order.oid,callback:function(t){e.$set(e.order,"oid",t)},expression:"order.oid"}})],1),a("el-form-item",{attrs:{label:"用户ID",prop:"uid"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.order.uid,callback:function(t){e.$set(e.order,"uid",t)},expression:"order.uid"}})],1)],1),a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"创建时间",prop:"oCreateTime"}},[a("el-date-picker",{attrs:{type:"datetime",disabled:"disabled",placeholder:"选择日期时间"},model:{value:e.order.oCreateTime,callback:function(t){e.$set(e.order,"oCreateTime",t)},expression:"order.oCreateTime"}})],1),a("el-form-item",{attrs:{label:"结束时间",prop:"oEndTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.order.oEndTime,callback:function(t){e.$set(e.order,"oEndTime",t)},expression:"order.oEndTime"}})],1)],1),a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"订单标题",prop:"otile"}},[a("el-input",{model:{value:e.order.otile,callback:function(t){e.$set(e.order,"otile",t)},expression:"order.otile"}})],1),a("el-form-item",{attrs:{label:"订单状态",prop:"uid"}},[[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.order.ostate,callback:function(t){e.$set(e.order,"ostate",t)},expression:"order.ostate"}},e._l(e.oStateS,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]],2)],1),a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"订单类型",prop:"uid"}},[[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.order.otId,callback:function(t){e.$set(e.order,"otId",t)},expression:"order.otId"}},e._l(e.oTypes,(function(e){return a("el-option",{key:e.otId,attrs:{label:e.otName,value:e.otId}})})),1)]],2),a("el-form-item",{attrs:{label:"订单子类",prop:"uid"}},[[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.order.tsId,callback:function(t){e.$set(e.order,"tsId",t)},expression:"order.tsId"}},e._l(e.oTypeSons,(function(e){return a("el-option",{key:e.tsId,attrs:{label:e.tsName,value:e.tsId}})})),1)]],2)],1),a("el-form-item",{attrs:{label:"订单描述",prop:"odescribe"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.order.odescribe,callback:function(t){e.$set(e.order,"odescribe",t)},expression:"order.odescribe"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("order")}}},[e._v("修改")])],1)],1)],1)},Fe=[],De={name:"edit",props:["oid"],data:function(){return{order:{},loading:!0,oStateS:[{value:0,label:"过期"},{value:1,label:"正常"},{value:2,label:"已接单"},{value:3,label:"结束"}],oTypes:[],oTypeSons:[],rules:{oCreateTime:[{required:!0,message:"创建时间为空!!"}],odescribe:[{required:!0,message:"请输入订单描述"}],oEndTime:[{required:!0,message:"请选择订单结束时间"}],oid:[{required:!0,message:"订单ID不能为空"}],oimage:[{required:!0,message:"选择订单图片"}],ostate:[{required:!0,message:"设置订单状态"}],otId:[{required:!0,message:"请选择类型"}],otile:[{required:!0,message:"请输入订单标题"},{min:2,max:100,message:"长度在 2 到 100 个字符"}],tsId:[{required:!0,message:"请选择子类型"}],uid:[{required:!0,message:"用户ID不能为空"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log(t.order.oEndTime);var a={oId:t.order.oid,uId:t.order.uid,tsId:t.order.tsId,otId:t.order.otId,oTile:t.order.otile,oState:t.order.ostate,oDescribe:t.order.odescribe,oCreateTime:t.order.oCreateTime,oEndTime:t.$dateFormat("yyyy-MM-dd HH:mm",new Date(t.order.oEndTime))};console.log(a);var l=t;t.$http.put("/order?"+t.$qs.stringify(a)).then((function(e){l.$myRequest(e),200===e.data.code&&(l.$parent.handleClose(),l.order=e.data.data,l.$message.success(e.data.message))}))}))},handleAvatarSuccess:function(e,t){this.order.oimage=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){console.log(e.type);var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 或者 PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/order/"+this.oid).then((function(t){e.$myRequest(t),e.order=t.data.data})),this.$http.get("/orderType",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.oTypes=t.data.data.body.content})),this.$http.get("/orderTypeSon",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.oTypeSons=t.data.data.body.content}))}},qe=De,Re=Object(d["a"])(qe,Te,Fe,!1,null,null,null),Ne=Re.exports,Pe={components:{edit:Ne},data:function(){return{oid:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;console.log(t),e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),this.oid=t.oid,this.dialogVisible=!0},handleDelete:function(e,t){console.log(e,t);var a=this;this.$http.delete("/order",{params:{id:t.oid}}).then((function(e){a.$myRequest(e),200===e.data.code&&(a.initDate(),a.$message.success(e.data.message))}))},initDate:function(){var e=this;this.$http.get("/order",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){this.$mySetToken();this.initDate()}},Ee=Pe,Oe=Object(d["a"])(Ee,Ce,Ie,!1,null,null,null),je=Oe.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("接单表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{rid:e.rid}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"rid",label:"ID",width:"100"}}),a("el-table-column",{attrs:{label:"用户",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("昵称: "+e._s(t.row.user.unick))]),a("p",[e._v("账号: "+e._s(t.row.user.uaccount))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.user.unick))])],1)])]}}])}),a("el-table-column",{attrs:{label:"跑腿者",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("昵称: "+e._s(t.row.rUser.unick))]),a("p",[e._v("账号: "+e._s(t.row.rUser.uaccount))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.rUser.unick))])],1)])]}}])}),a("el-table-column",{attrs:{label:"开始时间",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{readonly:"true",type:"datetime"},model:{value:t.row.rbeginTime,callback:function(a){e.$set(t.row,"rbeginTime",a)},expression:"scope.row.rbeginTime"}})]}}])}),a("el-table-column",{attrs:{label:"完成时间",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{readonly:"true",type:"datetime"},model:{value:t.row.rendTime,callback:function(a){e.$set(t.row,"rendTime",a)},expression:"scope.row.rendTime"}})]}}])}),a("el-table-column",{attrs:{label:"跑腿状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:0===t.row.rseate,expression:"scope.row.rseate===0"}],staticStyle:{color:"black"}},[e._v("结束")]),a("span",{directives:[{name:"show",rawName:"v-show",value:1===t.row.rseate,expression:"scope.row.rseate===1"}],staticStyle:{color:"orange"}},[e._v("放弃")]),a("span",{directives:[{name:"show",rawName:"v-show",value:2===t.row.rseate,expression:"scope.row.rseate===2"}],staticStyle:{color:"green"}},[e._v("完成")]),a("span",{directives:[{name:"show",rawName:"v-show",value:3===t.row.rseate,expression:"scope.row.rseate===3"}],staticStyle:{color:"red"}},[e._v("超时")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},ze=[],Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("h3",[e._v("接单信息")]),a("br"),a("el-form",{ref:"receive",staticClass:"demo-user",attrs:{model:e.receive,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"开始时间",prop:"rbeginTime"}},[a("el-date-picker",{attrs:{type:"datetime",disabled:"disabled",placeholder:"选择日期时间"},model:{value:e.receive.rbeginTime,callback:function(t){e.$set(e.receive,"rbeginTime",t)},expression:"receive.rbeginTime"}})],1),a("el-form-item",{attrs:{label:"完成时间",prop:"rendTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.receive.rendTime,callback:function(t){e.$set(e.receive,"rendTime",t)},expression:"receive.rendTime"}})],1),a("el-form-item",{attrs:{label:"跑腿状态",prop:"rseate"}},[a("el-select",{attrs:{placeholder:"请选跑腿状态",value:""},model:{value:e.receive.rseate,callback:function(t){e.$set(e.receive,"rseate",t)},expression:"receive.rseate"}},[a("el-option",{attrs:{label:"结束",value:"0"}}),a("el-option",{attrs:{label:"放弃",value:"1"}}),a("el-option",{attrs:{label:"完成",value:"2"}}),a("el-option",{attrs:{label:"超时",value:"3"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("receive")}}},[e._v("修改")])],1)],1)],1)},Le=[],Ue={name:"edit",props:["rid"],data:function(){return{receive:{},loading:!0,rules:{rbeginTime:[{required:!0,message:"开始时间为空!!"}],rendTime:[{required:!0,message:"结束时间为空!!"}],rseate:[{required:!0,message:"请选择配送状态"}],uid:[{required:!0,message:"用户id不能为空"}],ruid:[{required:!0,message:"接单者id不能为空"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={rBeginTime:t.$dateFormat("yyyy-MM-dd HH:mm",new Date(t.receive.rbeginTime)),rEndTime:t.$dateFormat("yyyy-MM-dd HH:mm",new Date(t.receive.rendTime)),rId:t.receive.rid,rSeate:t.receive.rseate,ruId:t.receive.ruId,uId:t.receive.uId};console.log(a);var l=t;t.$http.put("/receive?"+t.$qs.stringify(a)).then((function(e){l.$myRequest(e),200===e.data.code&&(l.$parent.handleClose(),l.order=e.data.data,l.$message.success(e.data.message))}))}))}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/receive/"+this.rid).then((function(t){e.$myRequest(t),e.receive=t.data.data})),this.loading=!1}},Me=Ue,He=Object(d["a"])(Me,Ae,Le,!1,null,null,null),Be=He.exports,Je={components:{edit:Be},data:function(){return{rid:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;console.log(t),e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),this.rid=t.rid,this.dialogVisible=!0},handleDelete:function(e,t){console.log(e,t);var a=this;this.$http.delete("/receive",{params:{id:t.rid}}).then((function(e){a.$myRequest(e),200===e.data.code&&(a.initDate(),a.$message.success(e.data.message))}))},initDate:function(){var e=this;this.$http.get("/receive",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){this.$mySetToken();this.initDate()}},Ge=Je,Ye=Object(d["a"])(Ge,Ve,ze,!1,null,null,null),Ke=Ye.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("订单子类表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"修改订单子类",visible:e.dialogVisible,width:"700px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{cid:e.cid}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"cid",label:"ID",width:"100"}}),a("el-table-column",{attrs:{label:"评论用户",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("昵称: "+e._s(t.row.user.unick))]),a("p",[e._v("账号: "+e._s(t.row.user.uaccount))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.user.unick))])],1)])]}}])}),a("el-table-column",{attrs:{prop:"ctype",label:"评论类型",width:"150"}}),a("el-table-column",{attrs:{prop:"ccontent",label:"评论内容",width:"200"}}),a("el-table-column",{attrs:{label:"创建时间",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{readonly:"true",type:"datetime",placeholder:"选择日期时间"},model:{value:t.row.cTime,callback:function(a){e.$set(t.row,"cTime",a)},expression:"scope.row.cTime"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},We=[],Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"ruleForm",staticClass:"demo-user",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ID",prop:"cid"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.ruleForm.cid,callback:function(t){e.$set(e.ruleForm,"cid",t)},expression:"ruleForm.cid"}})],1),a("el-form-item",{attrs:{label:"评论类型",prop:"ctype"}},[a("el-select",{attrs:{placeholder:"请选择评论类型",value:""},model:{value:e.ruleForm.ctype,callback:function(t){e.$set(e.ruleForm,"ctype",t)},expression:"ruleForm.ctype"}},[a("el-option",{attrs:{label:"差评",value:"差评"}}),a("el-option",{attrs:{label:"好评",value:"好评"}})],1)],1),a("el-form-item",{attrs:{label:"评论内容",prop:"ccontent"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.ccontent,callback:function(t){e.$set(e.ruleForm,"ccontent",e._n(t))},expression:"ruleForm.ccontent"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改")])],1)],1)],1)},Ze=[],et={name:"edit",props:["cid"],data:function(){return{order:{},loading:!0,ruleForm:{},rules:{otName:[{required:!0,message:"请输入类型名"},{min:2,max:20,message:"长度在 2 到 20 个字符"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={cId:t.ruleForm.cid,cType:t.ruleForm.ctype,cContent:t.ruleForm.ccontent},l=t;t.$http.put("/comment?"+t.$qs.stringify(a)).then((function(e){l.$myRequest(e),200===e.data.code&&(l.$parent.handleClose(),l.$message.success(e.data.message))}))}))}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/comment/"+this.cid).then((function(t){e.$myRequest(t),e.ruleForm=t.data.data}))}},tt=et,at=Object(d["a"])(tt,Xe,Ze,!1,null,null,null),lt=at.exports,ot={components:{edit:lt},data:function(){return{cid:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;console.log(t),e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),this.cid=t.cid,this.dialogVisible=!0},handleDelete:function(e,t){console.log(e,t);var a=this;this.$http.delete("/comment",{params:{id:t.cid}}).then((function(e){a.$myRequest(e),200===e.data.code&&(a.initDate(),a.$message.success(e.data.message))}))},initDate:function(){var e=this;this.$http.get("/comment",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){this.$mySetToken();this.initDate()}},it=ot,rt=Object(d["a"])(it,Qe,We,!1,null,null,null),nt=rt.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("申请表")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"审核申请",visible:e.dialogVisible,width:"700px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{applyId:e.applyId}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"applyId",label:"ID",width:"100"}}),a("el-table-column",{attrs:{label:"用户",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("昵称: "+e._s(t.row.user.unick))]),a("p",[e._v("账号: "+e._s(t.row.user.uaccount))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.user.unick))])],1)])]}}])}),a("el-table-column",{attrs:{label:"订单状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.applyState?a("span",{staticStyle:{color:"blue"}},[e._v("未审核")]):e._e(),"1"===t.row.applyState?a("span",{staticStyle:{color:"orange"}},[e._v("驳回")]):e._e(),"2"===t.row.applyState?a("span",{staticStyle:{color:"green"}},[e._v("同意")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"applyTime",label:"创建时间",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{readonly:"true",type:"datetime",placeholder:"选择日期时间"},model:{value:t.row.applyTime,callback:function(a){e.$set(t.row,"applyTime",a)},expression:"scope.row.applyTime"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"red"},attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 审核")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},dt=[],ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"apply",staticClass:"demo-user",attrs:{model:e.apply,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"身份证正面",prop:"apply"}},[a("img",{staticClass:"head_pic",attrs:{src:e.apply.applyIdentityCodeFront,width:"300",height:"100%"}}),a("br")]),a("el-form-item",{attrs:{label:"身份证背面",prop:"apply"}},[a("img",{staticClass:"head_pic",attrs:{src:e.apply.applyIdentityCodeBack,width:"300",height:"100%"}}),a("br")]),a("el-form-item",{attrs:{label:"申请时间",prop:"applyTime"}},[a("el-date-picker",{attrs:{type:"datetime",disabled:"disabled",placeholder:"选择日期时间"},model:{value:e.apply.applyTime,callback:function(t){e.$set(e.apply,"applyTime",t)},expression:"apply.applyTime"}})],1),a("el-form-item",{attrs:{label:"身份证号",prop:"applyTime"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.apply.applyIdentityCode,callback:function(t){e.$set(e.apply,"applyIdentityCode",t)},expression:"apply.applyIdentityCode"}})],1),a("el-form-item",{attrs:{label:"驳回描述",prop:"applyTime"}},[a("el-input",{attrs:{type:"textarea",placeholder:"描述一下驳回理由（同意申请请忽略）"},model:{value:e.apply.applyRejectInfo,callback:function(t){e.$set(e.apply,"applyRejectInfo",t)},expression:"apply.applyRejectInfo"}})],1),a("el-form-item",[a("el-button",{staticStyle:{color:"blue","background-color":"white",border:"1px solid rgba(0,0,0,0.29)"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("apply",!0)}}},[e._v("通过")]),a("el-button",{staticStyle:{color:"orange","background-color":"white",border:"1px solid rgba(0,0,0,0.29)"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("apply",!1)}}},[e._v("驳回")])],1)],1)],1)},ct=[],mt={name:"edit",props:["applyId"],data:function(){return{apply:{},loading:!0,oStateS:[{value:0,label:"过期"},{value:1,label:"正常"},{value:2,label:"已接单"},{value:3,label:"结束"}],oTypes:[],oTypeSons:[],rules:{oCreateTime:[{required:!0,message:"创建时间为空!!"}]}}},methods:{submitForm:function(e,t){var a=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log(a.apply);var l={uId:a.apply.uId,applyId:a.apply.applyId,applyIdentityCode:a.apply.applyIdentityCode,applyIdentityCodeBack:a.apply.applyIdentityCodeBack,applyIdentityCodeFront:a.apply.applyIdentityCodeFront,applyState:t?"2":"1",applyTime:a.apply.applyTime};if(!t){if(console.log(a.apply.applyRejectInfo),null==a.apply.applyRejectInfo||""===a.apply.applyRejectInfo.length)return a.$message.error("驳回描述不能为空！"),void(a.loading=!1);l.applyRejectInfo=a.apply.applyRejectInfo}console.log(l);var o=a;a.$http.put("/apply?"+a.$qs.stringify(l)).then((function(e){o.$myRequest(e),200===e.data.code&&(o.$parent.handleClose(),o.order=e.data.data,o.$message.success(e.data.message))}))}))}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/apply/"+this.applyId).then((function(t){e.$myRequest(t),e.apply=t.data.data}))}},pt=mt,ft=Object(d["a"])(pt,ut,ct,!1,null,null,null),ht=ft.exports,gt={components:{edit:ht},data:function(){return{applyId:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;console.log(t),e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),"0"===t.applyState?(this.applyId=t.applyId,this.dialogVisible=!0):this.$message.success("该申请已经被审核过了")},handleDelete:function(e,t){console.log(e,t);var a=this;this.$http.delete("/apply",{params:{id:t.applyId}}).then((function(e){a.$myRequest(e),200===e.data.code&&(a.initDate(),a.$message.success(e.data.message))}))},initDate:function(){var e=this;this.$http.get("/apply",{params:{page:0,size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){this.$mySetToken();this.initDate()}},bt=gt,vt=Object(d["a"])(bt,st,dt,!1,null,null,null),yt=vt.exports,wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"line-height":"40px"}},[a("h3",{staticStyle:{float:"left","margin-right":"20px"}},[e._v("管理员列表")]),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入管理员关键字","prefix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.initDate}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.initDate}},[e._v("刷新")])],1),e.dialogVisible?a("div",[a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("edit",{attrs:{aid:e.aid}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"aid",label:"ID",width:"180"}}),a("el-table-column",{attrs:{prop:"aRole",label:"角色",width:"120"}}),a("el-table-column",{attrs:{prop:"aaccount",label:"账号",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除")])]}}])})],1)],1)},$t=[],_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("h3",[e._v("个人信息")]),a("br"),a("el-form",{ref:"admin",staticClass:"demo-user",attrs:{model:e.admin,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号",prop:"sname"}},[a("el-input",{attrs:{disabled:""},model:{value:e.admin.aaccount,callback:function(t){e.$set(e.admin,"aaccount",t)},expression:"admin.aaccount"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"aRole"}},[a("el-select",{attrs:{placeholder:"请选择角色",value:""},model:{value:e.admin.aRole,callback:function(t){e.$set(e.admin,"aRole",t)},expression:"admin.aRole"}},[a("el-option",{attrs:{label:"root",value:"root"}}),a("el-option",{attrs:{label:"admin",value:"admin"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("admin")}}},[e._v("修改")])],1)],1)],1)},xt=[],kt={name:"edit",props:["aid"],data:function(){return{admin:{},loading:!0,rules:{aRole:[{required:!0,message:"请选择角色"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),t.loading=!1,!1;console.log(t.admin);var a={aId:t.admin.aid,aRole:t.admin.aRole};console.log(a);var l=t;t.$http.put("/admin?"+t.$qs.stringify(a)).then((function(e){l.$myRequest(e),200===e.data.code&&(l.$parent.handleClose(),l.order=e.data.data,l.$message.success(e.data.message))}))}))}},mounted:function(){this.$mySetToken();var e=this;this.$http.get("/admin/"+this.aid).then((function(t){e.$myRequest(t),e.admin=t.data.data}))}},St=kt,Ct=Object(d["a"])(St,_t,xt,!1,null,null,null),It=Ct.exports,Tt={components:{edit:It},data:function(){return{aid:"",dialogVisible:!1,keyword:"",loading:!0,tableData:[]}},methods:{handleClose:function(e){var t=this;console.log(t),e(),t.initDate()},handleEdit:function(e,t){console.log(e,t),"root"!==t.aaccount?(this.aid=t.aid,this.dialogVisible=!0):this.$message.success("root账号不能被修改")},handleDelete:function(e,t){console.log(e,t);this.$http.get("student/delete",{params:{sid:t.sid}}).then((function(e){}))},initDate:function(){var e=this;this.$http.get("/admin",{params:{keyword:e.keyword,page:0,sort:"desc",size:1e4}}).then((function(t){e.$myRequest(t),e.tableData=t.data.data.body.content}))}},mounted:function(){console.log(this),this.initDate()}},Ft=Tt,Dt=Object(d["a"])(Ft,wt,$t,!1,null,null,null),qt=Dt.exports,Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("h3",[e._v("添加管理员")]),a("br"),a("el-form",{ref:"admin",staticClass:"demo-user",attrs:{model:e.admin,rules:e.rules,"label-width":"100px"}},[a("el-row",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"账号",prop:"aAccount"}},[a("el-input",{model:{value:e.admin.aAccount,callback:function(t){e.$set(e.admin,"aAccount",t)},expression:"admin.aAccount"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"aRole"}},[a("el-select",{attrs:{placeholder:"请选择角色",value:""},model:{value:e.admin.aRole,callback:function(t){e.$set(e.admin,"aRole",t)},expression:"admin.aRole"}},[a("el-option",{attrs:{label:"root",value:"root"}}),a("el-option",{attrs:{label:"admin",value:"admin"}})],1)],1),a("el-form-item",{attrs:{label:"密码",prop:"aPassword"}},[a("el-input",{attrs:{type:"password"},model:{value:e.admin.aPassword,callback:function(t){e.$set(e.admin,"aPassword",t)},expression:"admin.aPassword"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("admin")}}},[e._v("添加")]),a("el-button",{on:{click:function(t){return e.resetForm("admin")}}},[e._v("重置")])],1)],1)],1)},Nt=[],Pt={name:"edit",props:["aid"],data:function(){return{admin:{aRole:"",aAccount:"",aPassword:""},loading:!1,rules:{aRole:[{required:!0,message:"请选择角色"}],aAccount:[{required:!0,message:"请输入账号"},{min:4,max:16,message:"长度在 4 到 16 个字符"}],aPassword:[{required:!0,message:"请输入密码"},{min:6,max:32,message:"长度在 6 到 32 个字符"}]}}},methods:{submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(a){if(!a)return console.log("error submit!!"),t.loading=!1,!1;console.log(t.admin);var l=t;t.$http.post("/admin?"+t.$qs.stringify(t.admin)).then((function(t){l.$myRequest(t),200===t.data.code&&(l.order=t.data.data,l.$refs[e].resetFields(),l.$message.success(t.data.message))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},Et=Pt,Ot=Object(d["a"])(Et,Rt,Nt,!1,null,null,null),jt=Ot.exports,Vt={name:"index",components:{top:q,left:y,userList:M,orderTypeList:te,orderTypeAdd:ne,orderTypeSonList:ye,orderTypeSonAdd:Se,orderList:je,receiveList:Ke,commentList:nt,applyList:yt,adminList:qt,adminAdd:jt},data:function(){return{adminIs:!1,mainPag:"adminList",leftClass:"width: 210px;",isCollapse:!1,loading:!0}},methods:{foldOrUnfold_func:function(){var e=this;if(this.isCollapse=!this.isCollapse,this.isCollapse)for(var t=function(t){var a=e;setTimeout((function(){a.leftClass="width: "+t+"px;"}),150)},a=210;a>74;a--)t(a);else for(var l=function(t){var a=e;setTimeout((function(){a.leftClass="width: "+t+"px;"}),150)},o=74;o<210;o++)l(o)},updatePage:function(e){this.mainPag=e}},mounted:function(){console.log("index");this.$mySetToken();var e=this;setTimeout((function(){e.loading=!1}),500)}},zt=Vt,At=(a("47a3"),Object(d["a"])(zt,m,p,!1,null,"54c71fa5",null)),Lt=At.exports;l["default"].use(o["a"]);var Ut=[{path:"/",component:Lt},{path:"/login",component:c}],Mt=new o["a"]({routes:Ut}),Ht=Mt,Bt=a("5c96"),Jt=a.n(Bt),Gt=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")}),Yt=[],Kt={name:"App"},Qt=Kt,Wt=(a("034f"),Object(d["a"])(Qt,Gt,Yt,!1,null,null,null)),Xt=Wt.exports,Zt=a("bc3a"),ea=a.n(Zt),ta=a("4328"),aa=a.n(ta);l["default"].config.productionTip=!1,ea.a.defaults.headers.common["token"]="",ea.a.defaults.baseURL="/running",l["default"].prototype.$http=ea.a,l["default"].prototype.$qs=aa.a,l["default"].prototype.$mySetToken=function(){var e=localStorage.getItem("token");if(e=JSON.parse(e),null!=e){var t=e["time"],a=e["token"],l=e["admin"];return(null==l||t<(new Date).getTime())&&this.$router.push({path:"/login",query:{}}),this.$http.defaults.headers.common["token"]=a,l}},l["default"].prototype.$myRequest=function(e){console.log(e),"请先登陆"===e.data.message&&(this.$message.error("请先登陆"),this.$router.push({path:"/login",query:{}})),"token 无效"===e.data.message&&(this.$message.error("token 无效"),this.$router.push({path:"/login",query:{}})),200===e.data.code&&(this.loading=!1),500===e.data.code&&(this.loading=!1,this.$message.error(e.data.message))},l["default"].prototype.$dateFormat=function(e,t){var a;console.log(e);var l={"y+":t.getFullYear().toString(),"M+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"m+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var o in l)a=new RegExp("("+o+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?l[o]:l[o].padStart(a[1].length,"0")));return e},l["default"].use(Jt.a),new l["default"]({render:function(e){return e(Xt)},router:Ht}).$mount("#app")},"85ec":function(e,t,a){},"8fa1":function(e,t,a){"use strict";a("013d")},cc57:function(e,t,a){"use strict";a("cf55")},cf55:function(e,t,a){}});
//# sourceMappingURL=app.9fc3e42d.js.map